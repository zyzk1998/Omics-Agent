# æ™ºèƒ½è·¯å¾„è§£æå‡çº§æ€»ç»“

## ğŸ“‹ é—®é¢˜æè¿°
UI æ˜¾ç¤ºè¯Šæ–­æ¡†ï¼Œä½†å†…å®¹ä¸º "âš ï¸ æ— æ³•è¯»å–æ–‡ä»¶"ã€‚æ–‡ä»¶è·¯å¾„æ˜¾ç¤ºä¸º `/app/uploads/human_cachexia.csv`ï¼Œä½† `os.path.exists` è¿”å› Falseï¼Œè¡¨æ˜ä»£ç æœŸæœ›çš„è·¯å¾„ä¸å®é™… Docker å·æŒ‚è½½ä¸åŒ¹é…ã€‚

## âœ… è§£å†³æ–¹æ¡ˆ

### Step 1: æ·»åŠ æ™ºèƒ½è·¯å¾„è§£ææ–¹æ³•
**æ–‡ä»¶**: `gibh_agent/core/file_inspector.py`

æ–°å¢ `_resolve_actual_path()` æ–¹æ³•ï¼š
- **åŠŸèƒ½**: åœ¨å¤šä¸ªå¸¸è§ Docker æŒ‚è½½è·¯å¾„ä¸­è‡ªåŠ¨æœç´¢æ–‡ä»¶
- **é€»è¾‘**:
  1. é¦–å…ˆæ£€æŸ¥åŸå§‹è·¯å¾„æ˜¯å¦å­˜åœ¨
  2. å¦‚æœä¸å­˜åœ¨ï¼Œæå–æ–‡ä»¶å
  3. åœ¨ä»¥ä¸‹å¸¸è§è·¯å¾„ä¸­æœç´¢ï¼š
     - `/app/uploads`
     - `/app/data/uploads`
     - `/app/data`
     - `/workspace/uploads`
     - `./uploads` (ç›¸å¯¹è·¯å¾„)
     - `./data` (ç›¸å¯¹è·¯å¾„)
  4. è¿”å›æ‰¾åˆ°çš„è·¯å¾„å’Œæœç´¢å†å²

### Step 2: æ›´æ–° inspect_file æ–¹æ³•
**æ–‡ä»¶**: `gibh_agent/core/file_inspector.py`

- ä½¿ç”¨ `_resolve_actual_path()` è¿›è¡Œæ™ºèƒ½è·¯å¾„è§£æ
- å¦‚æœæ–‡ä»¶æœªæ‰¾åˆ°ï¼Œè¿”å›**è¯¦ç»†çš„é”™è¯¯ä¿¡æ¯**ï¼š
  - åˆ—å‡ºæ‰€æœ‰æœç´¢è¿‡çš„è·¯å¾„
  - æ˜¾ç¤ºå½“å‰å·¥ä½œç›®å½•
  - æ˜¾ç¤ºé…ç½®çš„ä¸Šä¼ ç›®å½•
  - æ˜¾ç¤ºç¯å¢ƒå˜é‡ `UPLOAD_DIR` çš„å€¼

### Step 3: æ›´æ–° MetabolomicsAgent
**æ–‡ä»¶**: `gibh_agent/agents/specialists/metabolomics_agent.py`

- **ç§»é™¤ç¡¬ç¼–ç é”™è¯¯æ¶ˆæ¯**: ä¸å†ä½¿ç”¨ "âš ï¸ æ— æ³•è¯»å–æ–‡ä»¶ï¼Œè¯·æ£€æŸ¥æ–‡ä»¶æ ¼å¼ã€‚"
- **ä½¿ç”¨è¯¦ç»†é”™è¯¯ä¿¡æ¯**: ç›´æ¥ä½¿ç”¨ `FileInspector` è¿”å›çš„é”™è¯¯æ¶ˆæ¯
- **ç»“æœ**: ç”¨æˆ·å¯ä»¥åœ¨ UI ä¸­çœ‹åˆ°ç³»ç»Ÿåœ¨å“ªé‡ŒæŸ¥æ‰¾æ–‡ä»¶ï¼Œä¾¿äºè°ƒè¯• Docker å·é…ç½®

## ğŸ¯ é¢„æœŸæ•ˆæœ

1. **è‡ªåŠ¨æ‰¾åˆ°æ–‡ä»¶**: å¦‚æœæ–‡ä»¶å­˜åœ¨äºä»»ä½•å¸¸è§æŒ‚è½½è·¯å¾„ä¸­ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨æ‰¾åˆ°å¹¶ä½¿ç”¨
2. **è¯¦ç»†é”™è¯¯ä¿¡æ¯**: å¦‚æœæ–‡ä»¶æœªæ‰¾åˆ°ï¼Œé”™è¯¯ä¿¡æ¯ä¼šæ˜¾ç¤ºï¼š
   - æ‰€æœ‰æœç´¢è¿‡çš„è·¯å¾„
   - å½“å‰å·¥ä½œç›®å½•
   - ç¯å¢ƒå˜é‡é…ç½®
   - ä¾¿äºç”¨æˆ·ä¿®å¤ Docker å·æŒ‚è½½é—®é¢˜

## ğŸ“ é”™è¯¯ä¿¡æ¯ç¤ºä¾‹

å¦‚æœæ–‡ä»¶æœªæ‰¾åˆ°ï¼Œç”¨æˆ·å°†çœ‹åˆ°ç±»ä¼¼ä»¥ä¸‹å†…å®¹ï¼š

```
âš ï¸ **æ–‡ä»¶è¯»å–å¤±è´¥**

File not found: 'human_cachexia.csv'

**Searched locations (6):**
  - /app/uploads/human_cachexia.csv
  - /app/data/uploads/human_cachexia.csv
  - /app/data/human_cachexia.csv
  - /workspace/uploads/human_cachexia.csv
  - /current/working/dir/uploads/human_cachexia.csv
  - /current/working/dir/data/human_cachexia.csv

**Current working directory:** /app
**Upload directory (configured):** /app/uploads
**Environment UPLOAD_DIR:** /app/uploads
```

è¿™æ ·ç”¨æˆ·å¯ä»¥æ¸…æ¥šåœ°çœ‹åˆ°ç³»ç»Ÿåœ¨å“ªé‡ŒæŸ¥æ‰¾æ–‡ä»¶ï¼Œä»è€Œä¿®å¤ Docker å·æŒ‚è½½é…ç½®ã€‚
